(function(){"use strict";var t={1925:function(t,e,i){var s=i(7754),a=i.n(s),n=i(6369),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("window-banner",{attrs:{id:"window-banner"}}),e("window-menu",{attrs:{id:"window-menu"}}),e("window-board",{attrs:{id:"window-board"}}),e("el-dialog",{attrs:{id:"window-logbox",title:"登录",visible:t.ifLogboxShowing,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.ifLogboxShowing=e}}},[e("window-logbox")],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.ifMenuShowing||t.ifLogboxShowing,expression:"ifMenuShowing||ifLogboxShowing"}],attrs:{id:"window-cover"},on:{click:t.closeMenu}})],1)},r=[],l=i(6265),d=i.n(l),c=i(680);let u="http://49.4.0.68:9000",h={pingPath:u+"/ping",registerPath:u+"/register",loginPath:u+"/login",autoLoginPath:u+"/autoLogin",updatePath:u+"/lastUpdate",uploadPath:u+"/upload",downloadPath:u+"/download",changePasswordPath:u+"/changePassword"};var _=h,g=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"window-banner"}},[e("i",{staticClass:"el-icon-more-outline",attrs:{id:"i-menu"},on:{click:t.openMenu}}),e("span",{attrs:{id:"right-float"}},[e("span",{attrs:{id:"username"}},[t._v("欢迎您 "+t._s(t.username))]),e("span",{attrs:{id:"currentTime"}})])])},m=[],p={name:"window-banner",data(){return{username:"游客"}},methods:{openMenu(){this.$bus.$emit("openMenu")},showUsername(t){this.username=t}},mounted(){this.$bus.$on("showUsername",(t=>this.showUsername(t)));let t,e=document.getElementById("currentTime");setInterval((()=>{let i=new Date;t=i.getFullYear()+"/",t+=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"/",t+=(i.getDate()<10?"0"+i.getDate():i.getDate())+"/ ",t+=(i.getHours()<10?"0"+i.getHours():i.getHours())+":",t+=(i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes())+":",t+=(i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds())+"",e.innerHTML=t}),1e3)},beforeDestroy(){this.$bus.$off("showUsername")}},k=p,f=i(1001),v=(0,f.Z)(k,g,m,!1,null,"1b7eddc5",null),w=v.exports,b=function(){var t=this,e=t._self._c;return e("div",[e("keep-alive",[e("router-view")],1)],1)},S=[],x={name:"window-board",mounted(){this.$router.push({name:"PageIndex"}),this.$bus.$on("router_board_task",(()=>{this.$router.push({name:"PageTask"})})),this.$bus.$on("router_board_counter",(()=>{this.$router.push({name:"PageCounter"})}))}},T=x,y=(0,f.Z)(T,b,S,!1,null,"ca27848e",null),C=y.exports,N=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"window-logbox"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isRegister,expression:"!isRegister"}],attrs:{id:"login"}},[e("div",{attrs:{id:"login-username"}},[e("el-input",{attrs:{placeholder:"请输入账户名",maxlength:"16",size:"mini",clearable:""},on:{input:function(e){return t.loginInputChanged("username")}},model:{value:t.login_username,callback:function(e){t.login_username=e},expression:"login_username"}})],1),e("div",{attrs:{id:"login-password"}},[e("el-input",{attrs:{placeholder:"请输入密码",maxlength:"16","show-password":"",size:"mini"},on:{input:function(e){return t.loginInputChanged("password")}},model:{value:t.login_password,callback:function(e){t.login_password=e},expression:"login_password"}})],1),e("div",{attrs:{id:"login-button"}},[e("el-button",{attrs:{type:"success",round:"",size:"mini",disabled:!t.login_button},on:{click:function(e){return t.login()}}},[t._v("登录")])],1),e("div",{attrs:{id:"login-register"},on:{click:t.modeRegister}},[e("a",[t._v("没有账号? 点击注册")])]),e("div",{attrs:{id:"login-guest"}},[e("a",{on:{click:t.loginGuest}},[t._v("暂不登录? 使用游客模式")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isRegister,expression:"isRegister"}],attrs:{id:"register"}},[e("div",{attrs:{id:"register-id"}},[e("span",[t._v(" 账户ID ")]),e("el-input",{attrs:{size:"mini",disabled:""},model:{value:t.register_id,callback:function(e){t.register_id=e},expression:"register_id"}})],1),e("div",{attrs:{id:"register-username"}},[e("el-input",{attrs:{placeholder:"请输入账户名",maxlength:"16",size:"mini",clearable:""},on:{input:function(e){return t.registerInputChanged("username")}},model:{value:t.register_username,callback:function(e){t.register_username=e},expression:"register_username"}})],1),e("div",{attrs:{id:"register-password"}},[e("el-input",{attrs:{placeholder:"请输入密码",maxlength:"16","show-password":"",size:"mini"},on:{input:function(e){return t.registerInputChanged("password")}},model:{value:t.register_password,callback:function(e){t.register_password=e},expression:"register_password"}}),e("br"),e("el-input",{attrs:{placeholder:"请再次输入密码",maxlength:"16","show-password":"",size:"mini"},on:{input:function(e){return t.registerInputChanged("confirmPassword")}},model:{value:t.register_confirmPassword,callback:function(e){t.register_confirmPassword=e},expression:"register_confirmPassword"}})],1),e("div",{attrs:{id:"register-button"}},[e("el-button",{attrs:{type:"success",round:"",size:"mini",disabled:!t.register_button},on:{click:function(e){return t.registerPreCheck()}}},[t._v("注册 ")])],1),e("div",{attrs:{id:"register-login"}},[e("a",{on:{click:t.modeLogin}},[t._v("已有账号? 前往登录")])])])])},I=[],L=i(691),$=i(9702),E=i.n($);const M=(0,L.kP)("1234567890",19),P=(0,L.kP)("1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ",25);var B={name:"window-logbox",data(){return{isRegister:!1,login_username:"",login_password:"",login_button:!1,register_id:"",register_username:"",register_password:"",register_confirmPassword:"",register_button:!1}},methods:{showNotification(t,e,i,s){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top-right";this.$notify({title:t,message:e,type:i,duration:s,position:a})},modeRegister(){this.register_id=M(),this.isRegister=!0},modeLogin(){this.isRegister=!1},loginGuest(){this.$confirm("在游客模式下, 数据将保存在当前浏览器中, 无法跨浏览器、跨设备使用，且在清空浏览器数据时会丢失。<br> 您可以之后再注册/登录账户以使用云同步功能。<br><br> 是否继续?","提示",{confirmButtonText:"确定使用游客模式",cancelButtonText:"取消使用游客模式",type:"warning",dangerouslyUseHTMLString:!0}).then((()=>{this.showNotification("警告","当前处于游客模式, 无法使用在线功能","warning",0,"bottom-right"),this.$bus.$emit("closeLogin")})).catch((()=>{}))},loginInputChanged(t){let e=/^\w+$/;"username"==t?e.test(this.login_username.charAt(this.login_username.length-1))||(this.login_username=this.login_username.slice(0,-1),this.showNotification("注意","账户名只能由数字、字母以及下划线组成","warning",2e3)):"password"==t&&(e.test(this.login_password.charAt(this.login_password.length-1))||(this.login_password=this.login_password.slice(0,-1),this.showNotification("注意","密码只能由数字、字母以及下划线组成","warning",2e3))),this.login_username.length>0&&this.login_password.length>0?this.login_button=!0:this.login_button=!1},registerInputChanged(t){let e=/^\w+$/;"username"==t?e.test(this.register_username.charAt(this.register_username.length-1))||(this.register_username=this.register_username.slice(0,-1),this.showNotification("注意","账户名只能由数字、字母以及下划线组成","warning",2e3)):"password"==t?e.test(this.register_password.charAt(this.register_password.length-1))||(this.register_password=this.register_password.slice(0,-1),this.showNotification("注意","密码只能由数字、字母以及下划线组成","warning",2e3)):"confirmPassword"==t&&(e.test(this.register_confirmPassword.charAt(this.register_confirmPassword.length-1))||(this.register_confirmPassword=this.register_confirmPassword.slice(0,-1),this.showNotification("注意","密码只能由数字、字母以及下划线组成","warning",2e3))),this.register_username.length>0&&this.register_password.length>0&&this.register_confirmPassword.length>0?this.register_button=!0:this.register_button=!1},registerPreCheck(){this.register_username.length<6?this.showNotification("注意","用户名需大于6位字符","warning",3e3):this.register_password.length<8?this.showNotification("注意","请使用至少8位的密码","warning",3e3):this.register_password!=this.register_confirmPassword?this.showNotification("错误","两次输入密码不一致","error",3e3):this.register()},login(){const t=this.$loading({lock:!0,text:"登录中"});let e=P();d()({method:"post",url:_.loginPath,data:new URLSearchParams({username:this.login_username,password:E()(this.login_password),cookie:e})}).then((i=>{t.close(),200!=i.status?this.$alert("无法连接到服务器, 请稍后重试","消息"):"ERR_LOGIN_WRONG"==i.data?this.$alert("账户不存在, 或账户密码不匹配","消息"):"SUC_LOGIN"==i.data.status&&(this.showNotification("登录成功","欢迎回来 "+this.login_username,"success",3e3),this.$bus.$emit("closeLogin"),this.$bus.$emit("showUsername",i.data.username),c.Z.set("loginCookie",e,{expires:7}))}))},register(){const t=this.$loading({lock:!0,text:"登录中"});d()({method:"post",url:_.registerPath,data:new URLSearchParams({id:this.register_id,username:this.register_username,password:E()(this.register_password)})}).then((e=>{t.close(),200!=e.status?this.$alert("无法连接到服务器, 请稍后重试","消息"):"ERR_REGISTER_USERNAME"==e.data?this.$alert("该用户名已被占用","消息"):"SUC_REGISTER"==e.data&&(this.$alert("注册成功!","消息"),this.modeLogin())}))}}},A=B,R=(0,f.Z)(A,N,I,!1,null,"538b58fa",null),D=R.exports,U=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"window-menu"}},[e("div",{attrs:{id:"div-title"}},[e("span",[t._v(" 菜单 ")]),e("i",{staticClass:"el-icon-close",on:{click:t.closeMenu}}),e("div",{staticStyle:{height:"30px"}})]),e("div",{attrs:{id:"div-hotbar"}},[e("div",{staticClass:"div-hotbar-items",attrs:{id:"div-hotbar-user"},on:{click:t.changePassword}},[e("i",{staticClass:"el-icon-user",attrs:{id:"i-hotbar-user"}}),e("br"),e("span",[t._v(" 修改密码")])]),e("div",{staticClass:"div-hotbar-items",attrs:{id:"div-hotbar-logout"},on:{click:t.logout}},[e("i",{staticClass:"el-icon-minus",attrs:{id:"i-hotbar-logout"}}),e("br"),e("span",[t._v(" 退出登录 ")])]),e("div",{staticClass:"div-hotbar-items",attrs:{id:"div-hotbar-upload"},on:{click:t.upload}},[e("i",{staticClass:"el-icon-upload2",attrs:{id:"i-hotbar-upload"}}),e("br"),e("span",[t._v(" 云端上载 ")])]),e("div",{staticClass:"div-hotbar-items",attrs:{id:"div-hotbar-download"},on:{click:t.download}},[e("i",{staticClass:"el-icon-download",attrs:{id:"i-hotbar-download"}}),e("br"),e("span",[t._v(" 云端下载 ")])])]),e("div",{attrs:{id:"div-list"}},[e("el-button",{staticClass:"button-list",attrs:{type:"primary"},on:{click:function(e){return t.boardSwitch("router_board_task")}}},[t._v(" 常规任务板 ")]),e("el-button",{staticClass:"button-list",attrs:{type:"primary"},on:{click:function(e){return t.boardSwitch("router_board_counter")}}},[t._v(" 计次任务板 ")])],1)])},O=[],Z={name:"window-menu",data(){return{}},methods:{showNotification(t,e,i,s){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top-right";this.$notify({title:t,message:e,type:i,duration:s,position:a})},closeMenu(){this.$bus.$emit("closeMenu")},boardSwitch(t){this.$bus.$emit(t),this.closeMenu()},changePassword(){null!=c.Z.get("loginCookie")&&this.$prompt("将密码修改为","修改密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^\w{8,16}$/,inputErrorMessage:"密码只能使用8到16位的数字、字母、下划线"}).then((t=>{let{value:e}=t;console.log(e),d()({method:"post",url:_.changePasswordPath,data:new URLSearchParams({cookie:c.Z.get("loginCookie"),password:E()(e)})}).then((t=>{200!=t.status?this.$alert("无法连接到服务器, 请稍后重试","消息"):"done"==t.data&&(this.logout(),this.showNotification("成功","密码已修改,请重新登录","success",3e3))}))})).catch((()=>{}))},logout(){c.Z.remove("loginCookie"),location.reload()},upload(){null!=c.Z.get("loginCookie")&&(localStorage.getItem("data_task_all")&&localStorage.getItem("data_task_all").length>2||localStorage.getItem("data_counter_all")&&localStorage.getItem("data_counter_all").length>2?d()({method:"post",url:_.updatePath,data:new URLSearchParams({cookie:c.Z.get("loginCookie")})}).then((t=>{if(200!=t.status)this.$alert("无法连接到服务器, 请稍后重试","消息");else{let e=localStorage.getItem("time_last_updated").split("");e.splice(4,0,"-"),e.splice(7,0,"-"),e.splice(10,0," "),e.splice(13,0,":"),e.splice(16,0,":");let i=e.join("");"never"!=t.data?this.$confirm("检测到云端已存在内容, 是否使用本地数据覆盖云端数据?<br><br>本地数据最后一次更新时间: "+i+"<br>云端数据最后一次更新时间: "+t.data,"提示",{confirmButtonText:"确定覆盖",cancelButtonText:"取消覆盖",type:"warning",dangerouslyUseHTMLString:!0}).then((()=>{d()({method:"post",url:_.uploadPath,data:new URLSearchParams({cookie:c.Z.get("loginCookie"),lastUpdate:i,dataTask:localStorage.getItem("data_task_all"),dataCounter:localStorage.getItem("data_counter_all")})}).then((t=>{200!=t.status?this.$alert("无法连接到服务器, 请稍后重试","消息"):"done"==t.data&&this.showNotification("成功","数据已上传到云端","success",3e3)}))})).catch((()=>{})):d()({method:"post",url:_.uploadPath,data:new URLSearchParams({cookie:c.Z.get("loginCookie"),lastUpdate:i,dataTask:localStorage.getItem("data_task_all"),dataCounter:localStorage.getItem("data_counter_all")})}).then((t=>{200!=t.status?this.$alert("无法连接到服务器, 请稍后重试","消息"):"done"==t.data&&this.showNotification("成功","数据已上传到云端","success",3e3)}))}})):this.showNotification("错误","当前待上传的数据为空","warning",3e3))},download(){null!=c.Z.get("loginCookie")&&d()({method:"post",url:_.updatePath,data:new URLSearchParams({cookie:c.Z.get("loginCookie")})}).then((t=>{if(200!=t.status)this.$alert("无法连接到服务器, 请稍后重试","消息");else if("never"!=t)if(null!=localStorage.getItem("time_last_updated")){let e=localStorage.getItem("time_last_updated").split("");e.splice(4,0,"-"),e.splice(7,0,"-"),e.splice(10,0," "),e.splice(13,0,":"),e.splice(16,0,":");let i=e.join("");this.$confirm("检测到本地已存在内容, 是否使用云端数据覆盖本地数据?<br><br>本地数据最后一次更新时间: "+i+"<br>云端数据最后一次更新时间: "+t.data,"提示",{confirmButtonText:"确定覆盖",cancelButtonText:"取消覆盖",type:"warning",dangerouslyUseHTMLString:!0}).then((()=>{d()({method:"post",url:_.downloadPath,data:new URLSearchParams({cookie:c.Z.get("loginCookie")})}).then((t=>{if(200!=t.status)this.$alert("无法连接到服务器, 请稍后重试","消息");else{let e=t.data.lastUpdate.split("-").join("");e=e.split(":").join(""),e=e.split(" ").join(""),localStorage.setItem("data_task_all",t.data.task),localStorage.setItem("data_counter_all",t.data.counter),localStorage.setItem("time_last_updated",e),this.$alert("数据已下载到本地, 请刷新页面","消息",{confirmButtonText:"立即刷新",callback(){location.reload()}})}}))})).catch((()=>{}))}else d()({method:"post",url:_.downloadPath,data:new URLSearchParams({cookie:c.Z.get("loginCookie")})}).then((t=>{if(200!=t.status)this.$alert("无法连接到服务器, 请稍后重试","消息");else{let e=t.data.lastUpdate.split("-").join("");e=e.split(":").join(""),e=e.split(" ").join(""),localStorage.setItem("data_task_all",t.data.task),localStorage.setItem("data_counter_all",t.data.counter),localStorage.setItem("time_last_updated",e),this.showNotification("成功","数据已下载到本地","success",3e3),location.reload()}}));else this.showNotification("错误","云端可下载的没有数据","warning",3e3)}))}}},H=Z,z=(0,f.Z)(H,U,O,!1,null,"6cb2cc18",null),j=z.exports,F={name:"App",components:{WindowBanner:w,WindowMenu:j,WindowBoard:C,WindowLogbox:D},data(){return{ifMenuShowing:!1,ifLogboxShowing:!1}},methods:{showNotification(t,e,i,s){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top-right";this.$notify({title:t,message:e,type:i,duration:s,position:a})},openMenu(){document.getElementById("window-menu").style.display="block",document.getElementById("window-menu").className="animate__animated animate__slideInLeft animate__faster",this.ifMenuShowing=!0},closeMenu(){document.getElementById("window-menu").className="animate__animated animate__slideOutLeft animate__faster",this.ifMenuShowing=!1},openLogin(){this.ifLogboxShowing=!0},closeLogin(){this.ifLogboxShowing=!1},changeLogbox(t){console.log(document.getElementById("window-logbox")),"login"==t?document.getElementById("window-logbox").title="登录":"register"==t&&(document.getElementById("window-logbox").title="注册")},autoLogin(){if(null!=c.Z.get("loginCookie")){const t=this.$loading({lock:!0,text:"登录中"});d()({method:"post",url:_.autoLoginPath,data:new URLSearchParams({cookie:c.Z.get("loginCookie")})}).then((e=>{t.close(),200!=e.status?this.$alert("无法连接到服务器, 请稍后重试","消息"):"ERR_LOGIN_NOCOOKIE"==e.data?(this.showNotification("登录超时"," 请重新使用用户名登录","error",3e3),this.openLogin()):"SUC_LOGIN"==e.data.status&&(this.showNotification("登录成功","欢迎回来 "+e.data.username,"success",3e3),this.$bus.$emit("showUsername",e.data.username))}))}else this.openLogin()}},mounted(){this.$bus.$on("openMenu",this.openMenu),this.$bus.$on("closeMenu",this.closeMenu),this.$bus.$on("openLogin",this.openLogin),this.$bus.$on("closeLogin",this.closeLogin),this.autoLogin()},beforeDestroy(){this.$bus.$off("openMenu"),this.$bus.$off("closeMenu"),this.$bus.$off("openLogin"),this.$bus.$off("closeLogin")}},G=F,J=(0,f.Z)(G,o,r,!1,null,"5c2ee4b0",null),W=J.exports,Y=i(3822);n["default"].config.productionTip=!1,n["default"].use(Y.ZP);const q={},K={},Q={},V={};var X=new Y.ZP.Store({actions:q,mutations:K,state:Q,getters:V}),tt=i(2631),et=function(){var t=this;t._self._c;return t._m(0)},it=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"page-index"}},[e("i",{staticClass:"el-icon-notebook-1",attrs:{id:"i-pic"}}),e("br"),e("p",{staticClass:"p-title"},[t._v(" TiaDos - Tia多功能记事本 ")]),e("p",{staticClass:"p-subtitle"},[t._v(" 使用左侧菜单选择页面")])])}],st={name:"page-index",data(){return{}}},at=st,nt=(0,f.Z)(at,et,it,!1,null,"3d647427",null),ot=nt.exports,rt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"page-task"}},[e("div",{attrs:{id:"div-list"}},[e("div",{attrs:{id:"div-list-manage"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"选中本页所有项目",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-select"},on:{click:t.taskListSelectAll}},[e("i",{staticClass:"el-icon-turn-off"})])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"将选中的项目标记为完成",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-check"},on:{click:t.taskListCheckSelected}},[e("i",{staticClass:"el-icon-circle-check"})])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"将选中的项目永久删除",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-remove"},on:{click:t.taskListRemoveSelected}},[e("i",{staticClass:"el-icon-delete"})])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"新建一个项目",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-new"},on:{click:t.taskListNew}},[e("i",{staticClass:"el-icon-circle-plus-outline"})])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"刷新项目列表",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-refresh"},on:{click:t.taskListRefresh}},[e("i",{staticClass:"el-icon-refresh"})])])],1),e("div",{attrs:{id:"div-list-main"}},[e("div",{attrs:{id:"div-list-main-sort"}},[e("el-dropdown",{attrs:{size:"mini","show-timeout":100,"hide-timeout":100},on:{command:t.changeSortType}},[e("div",[e("span",{staticClass:"el-dropdown-link"},[t._v("任务状态 "+t._s(t.sortType))]),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown",divided:""},slot:"dropdown"},[e("el-dropdown-item",{attrs:{icon:"el-icon-info",command:"all"}},[t._v("全部")]),e("el-dropdown-item",{attrs:{icon:"el-icon-question",command:"panding"}},[t._v("进行中")]),e("el-dropdown-item",{attrs:{icon:"el-icon-success",command:"done"}},[t._v("已完成")]),e("el-dropdown-item",{attrs:{icon:"el-icon-error",command:"expired"}},[t._v("已超时")])],1)],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDataEmpty,expression:"!isDataEmpty"}],attrs:{id:"div-list-exist"}},[e("div",{attrs:{id:"div-list-exist-data"}},[e("div",{attrs:{id:"div-list-exist-data-list"}},t._l(t.data_task_list,(function(i,s){return e("div",{key:s,staticClass:"div-list-exist-data-item"},[e("input",{staticClass:"div-list-exist-data-item-checkbox",attrs:{type:"checkbox"},on:{change:t.taskListSelectEach}}),e("span",{on:{click:function(e){return t.showItem(s)}}},[t._v(" "+t._s(i.task_title)+" ")])])})),0)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isDataEmpty,expression:"isDataEmpty"}],attrs:{id:"div-list-empty"}},[e("i",{staticClass:"el-icon-check"}),e("br"),e("div",[t._v(" 当前分类下没有数据 ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.editingIndex>=0,expression:"editingIndex>=0"}],attrs:{id:"div-list-cover"},on:{click:function(e){return t.closeItem()}}})]),e("div",{attrs:{id:"div-mainArea"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.editingIndex>=0,expression:"editingIndex>=0"}],attrs:{id:"div-mainArea-editing"}},[e("div",{attrs:{id:"div-mainArea-editing-top"}},[e("span",{attrs:{id:"div-mainArea-editing-top-back"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"不保存并关闭编辑",placement:"right-end"}},[e("i",{staticClass:"el-icon-back",on:{click:t.closeItem}})])],1),e("span",{attrs:{id:"div-mainArea-editing-top-status"}},[e("div",[e("el-dropdown",{attrs:{size:"mini","show-timeout":100,"hide-timeout":100},on:{command:t.changeTaskStatus}},[e("div",[e("span",{staticClass:"el-dropdown-link"},[t._v("任务状态 "+t._s(t.currentTaskStatus))]),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown",divided:""},slot:"dropdown"},[e("el-dropdown-item",{attrs:{icon:"el-icon-question",command:"panding"}},[t._v("进行中")]),e("el-dropdown-item",{attrs:{icon:"el-icon-success",command:"done"}},[t._v("已完成")]),e("el-dropdown-item",{attrs:{icon:"el-icon-error",command:"expired"}},[t._v("已超时")])],1)],1)],1)])]),e("div",{attrs:{id:"div-mainArea-editing-title"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入内容",maxlength:"8","show-word-limit":""},on:{change:function(e){t.isUnsaved=!0},input:function(e){return t.inputLimit("title")}},model:{value:t.data_task_current.task_title,callback:function(e){t.$set(t.data_task_current,"task_title",e)},expression:"data_task_current.task_title"}})],1),e("div",{attrs:{id:"div-mainArea-editing-description"}},[e("el-input",{attrs:{type:"textarea",rows:"10",placeholder:"请输入内容",maxlength:"1000","show-word-limit":"",resize:"none"},on:{change:function(e){t.isUnsaved=!0},input:function(e){return t.inputLimit("description")}},model:{value:t.data_task_current.task_description,callback:function(e){t.$set(t.data_task_current,"task_description",e)},expression:"data_task_current.task_description"}})],1),e("div",{attrs:{id:"div-mainArea-editing-times"}},[e("div",{attrs:{id:"div-mainArea-editing-times-startTime"}},[e("span",[t._v(" 任务开始时间 ")]),e("span",[t._v(" "+t._s(t.dataformat_startTime[0])+" "+t._s(t.dataformat_startTime[1]))])]),e("div",{attrs:{id:"div-mainArea-editing-times-endTime"}},[e("span",[t._v(" 预计结束时间 ")]),e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",align:"right","value-format":"yyyyMMdd",size:"mini",clearable:!1,"picker-options":t.datapicker_options},on:{change:function(e){t.isUnsaved=!0}},model:{value:t.data_task_current.task_endTime[0],callback:function(e){t.$set(t.data_task_current.task_endTime,0,e)},expression:"data_task_current.task_endTime[0]"}}),e("el-time-picker",{attrs:{placeholder:"选择时间","value-format":"HHmmss",size:"mini",clearable:!1,"picker-options":t.timepicker_options,disabled:null==t.data_task_current.task_endTime[0]},on:{change:function(e){t.isUnsaved=!0},focus:function(e){return t.setTimepickerOptions()}},model:{value:t.data_task_current.task_endTime[1],callback:function(e){t.$set(t.data_task_current.task_endTime,1,e)},expression:"data_task_current.task_endTime[1]"}})],1)]),e("div",{attrs:{id:"div-mainArea-editing-options"}},[e("el-button",{attrs:{type:"success",icon:"el-icon-check",round:"",size:"mini"},on:{click:t.saveItem}},[t._v("保存项目")]),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",round:"",size:"mini"},on:{click:t.deleteItem}},[t._v("删除项目")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.editingIndex>=0,expression:"!editingIndex>=0"}],attrs:{id:"div-mainArea-empty"}},[e("i",{staticClass:"el-icon-cold-drink"}),e("br"),e("span",[t._v(" 选择或创建一个项目来编辑 ")])])])])},lt=[];const dt=(0,L.kP)("ABCDEFGHIJ",20);var ct={name:"page-task",data(){return{data_task_all:[],data_task_list:[],data_task_current:{task_id:"",task_title:"",task_description:"",task_startTime:[],task_endTime:[],task_status:"unsaved"},currentTaskStatus:"",isDataEmpty:!0,sortType:"全部",isTaskSelectedAll:!1,isCreating:!1,isUnsaved:!1,editingIndex:-1,key:0,dataformat_startTime:["",""],datapicker_options:{disabledDate(t){return t.getTime()<Date.now()-864e5}},timepicker_options:{}}},methods:{showNotification(t,e,i,s){this.$notify({title:t,message:e,type:i,duration:s})},changeSortType(t){"all"==t?(this.sortType="全部",this.data_task_list=this.data_task_all):"panding"==t?(this.sortType="进行中",this.data_task_list=this.data_task_all.filter((t=>"panding"==t.task_status))):"done"==t?(this.sortType="已完成",this.data_task_list=this.data_task_all.filter((t=>"done"==t.task_status))):"expired"==t&&(this.sortType="已超时",this.data_task_list=this.data_task_all.filter((t=>"expired"==t.task_status))),0==this.data_task_list.length?this.isDataEmpty=!0:this.isDataEmpty=!1},taskListSelectAll(){if(this.isDataEmpty)this.showNotification("操作失败","当前列表没有待选中项目","error",3e3);else{let t=document.getElementsByClassName("div-list-exist-data-item-checkbox");for(let e of t)e.checked=!this.isTaskSelectedAll;this.isTaskSelectedAll=!this.isTaskSelectedAll,this.isTaskSelectedAll?document.getElementsByClassName("el-icon-turn-off")[0].className="el-icon-open":document.getElementsByClassName("el-icon-open")[0].className="el-icon-turn-off"}},taskListSelectEach(){let t=document.getElementsByClassName("div-list-exist-data-item-checkbox");for(let e in t){if(!t[e].checked)break;if(e==t.length-1)return void(document.getElementsByClassName("el-icon-turn-off").length>0&&(document.getElementsByClassName("el-icon-turn-off")[0].className="el-icon-open"))}document.getElementsByClassName("el-icon-open").length>0&&(document.getElementsByClassName("el-icon-open")[0].className="el-icon-turn-off")},taskListCheckSelected(){let t=document.getElementsByClassName("div-list-exist-data-item-checkbox");if(0==[...t].filter((t=>t.checked)).length)this.showNotification("操作失败","未选中任何项目","error",3e3);else{for(let e=0;e<t.length;e++)if(t[e].checked)for(let t=0;t<this.data_task_all.length;t++)if(this.data_task_all[t].task_id==this.data_task_list[e].task_id){this.data_task_all[t].task_status="done";break}for(let e of t)e.checked=!1;this.showNotification("操作成功","已将选中的项目标记为已完成","success",3e3),this.taskListRefreshSilent(),this.isTaskSelectedAll&&(document.getElementsByClassName("el-icon-open")[0].className="el-icon-turn-off")}},taskListRemoveSelected(){let t=document.getElementsByClassName("div-list-exist-data-item-checkbox");0==[...t].filter((t=>t.checked)).length?this.showNotification("操作失败","未选中任何项目","error",3e3):this.$confirm("此操作将永久删除项目, 是否继续?","提示",{confirmButtonText:"确定删除",cancelButtonText:"取消删除",type:"warning"}).then((()=>{for(let e=t.length-1;e>=0;e--)if(t[e].checked)for(let t=0;t<this.data_task_all.length;t++)if(this.data_task_all[t].task_id==this.data_task_list[e].task_id){this.data_task_all.splice(t,1);break}for(let e of t)e.checked=!1;this.showNotification("操作成功","已将选中的项目删除","success",3e3),this.taskListRefreshSilent(),this.isTaskSelectedAll&&(document.getElementsByClassName("el-icon-open")[0].className="el-icon-turn-off")})).catch((()=>{}))},taskListNew(){this.isCreating=!0,this.data_task_current.task_startTime[0]=this.getCurrentTimeString()[0],this.data_task_current.task_startTime[1]=this.getCurrentTimeString()[1],this.dataformat_startTime[0]=this.data_task_current.task_startTime[0].substring(0,4)+"-"+this.data_task_current.task_startTime[0].substring(4,6)+"-"+this.data_task_current.task_startTime[0].substring(6,8),this.dataformat_startTime[1]=this.data_task_current.task_startTime[1].substring(0,2)+":"+this.data_task_current.task_startTime[1].substring(2,4)+":"+this.data_task_current.task_startTime[1].substring(4,6),this.data_task_current.task_status="panding",this.showItem(this.data_task_list.length)},taskListRefreshSilent(){this.writeToStorage(),this.readFromStorage(),"全部"==this.sortType?this.data_task_list=this.data_task_all:"进行中"==this.sortType?this.data_task_list=this.data_task_all.filter((t=>"panding"==t.task_status)):"已完成"==this.sortType?this.data_task_list=this.data_task_all.filter((t=>"done"==t.task_status)):"已超时"==this.sortType&&(this.data_task_list=this.data_task_all.filter((t=>"expired"==t.task_status))),this.data_task_list.length>0?(this.isDataEmpty=!1,this.key++):this.isDataEmpty=!0},taskListRefresh(){this.taskListRefreshSilent(),this.showNotification("操作成功","已刷新任务列表","success",3e3)},inputLimit(t){"title"===t?this.data_task_current.task_title.length>=8&&this.showNotification("注意","标题文本不能超过8个字符","warning",1e3):"description"===t&&this.data_task_current.task_description.length>=1e3&&this.showNotification("注意","正文文本不能超过1000个字符","warning",1e3)},setTimepickerOptions(){this.timepicker_options={selectableRange:(this.data_task_current.task_endTime[0]==this.getCurrentTimeString()[0]?this.getCurrentTimeString()[1].substring(0,2)+":"+this.getCurrentTimeString()[1].substring(2,4)+":"+this.getCurrentTimeString()[1].substring(4,6):"00:00:00")+" - 23:59:59"}},changeTaskStatus(t){"panding"==t?(this.data_task_current.task_status="panding",this.currentTaskStatus="进行中"):"done"==t?(this.data_task_current.task_status="done",this.currentTaskStatus="已完成"):"expired"==t&&(this.data_task_current.task_status="expired",this.currentTaskStatus="已超时"),this.isUnsaved=!0},showItem(t){this.isCreating||(this.data_task_current.task_id=this.data_task_list[t].task_id,this.data_task_current.task_title=this.data_task_list[t].task_title,this.data_task_current.task_description=this.data_task_list[t].task_description,this.data_task_current.task_startTime=this.data_task_list[t].task_startTime,this.data_task_current.task_endTime=this.data_task_list[t].task_endTime,this.data_task_current.task_status=this.data_task_list[t].task_status,"panding"==this.data_task_current.task_status?this.currentTaskStatus="进行中":"done"==this.data_task_current.task_status?this.currentTaskStatus="已完成":"expired"==this.data_task_current.task_status&&(this.currentTaskStatus="已超时"),this.dataformat_startTime[0]=this.data_task_current.task_startTime[0].substring(0,4)+"-"+this.data_task_current.task_startTime[0].substring(4,6)+"-"+this.data_task_current.task_startTime[0].substring(6,8),this.dataformat_startTime[1]=this.data_task_current.task_startTime[1].substring(0,2)+":"+this.data_task_current.task_startTime[1].substring(2,4)+":"+this.data_task_current.task_startTime[1].substring(4,6)),this.editingIndex=t},closeItem(){this.isUnsaved?this.$confirm("自上次保存后的未保存修改将会丢失, 是否继续? <br> 点击关闭以取消返回","提示",{confirmButtonText:"保存并返回",cancelButtonText:"不保存并返回",type:"warning",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,closeOnPressEscape:!1,distinguishCancelAndClose:!0}).then((()=>{this.saveItem(),this.isCreating=!1,this.isUnsaved=!1,this.editingIndex=-1,this.data_task_current={task_id:"",task_title:"",task_description:"",task_startTime:[],task_endTime:[],task_status:""},this.dataformat_startTime=["",""]})).catch((t=>{"cancel"==t&&(this.isCreating=!1,this.isUnsaved=!1,this.editingIndex=-1,this.data_task_current={task_id:"",task_title:"",task_description:"",task_startTime:[],task_endTime:[],task_status:""},this.dataformat_startTime=["",""])})):(this.isCreating=!1,this.editingIndex=-1,this.data_task_current={task_id:"",task_title:"",task_description:"",task_startTime:[],task_endTime:[],task_status:""},this.dataformat_startTime=["",""])},saveItem(){if(this.data_task_current.task_title.length<=0||!this.data_task_current.task_endTime[0]||!this.data_task_current.task_endTime[1])this.showNotification("操作失败","请至少输入任务标题与结束时间","error",3e3);else{if(this.isCreating)this.data_task_current.task_id=dt(),this.data_task_current.task_status="panding",this.data_task_all.push(this.data_task_current);else for(let t=0;t<this.data_task_all.length;t++)if(this.data_task_all[t].task_id==this.data_task_current.task_id){this.data_task_list[this.editingIndex]=this.data_task_current,this.data_task_all[t]=this.data_task_current;break}this.showNotification("操作成功","保存成功","success",3e3),this.isCreating=!1,this.isUnsaved=!1,this.taskListRefreshSilent()}},deleteItem(){this.$confirm("此操作将永久删除该项目, 是否继续?","提示",{confirmButtonText:"确定删除",cancelButtonText:"取消删除",type:"warning"}).then((()=>{this.showNotification("操作成功","已删除项目","success",3e3),this.data_task_list.splice(this.editingIndex,1);for(let t=0;t<this.data_task_all.length;t++)if(this.data_task_all[t].task_id==this.data_task_current.task_id){this.data_task_all.splice(t,1);break}this.editingIndex=-1,this.isUnsaved=!1,this.data_task_current={task_id:"",task_title:"",task_description:"",task_startTime:[],task_endTime:[],task_status:""},this.dataformat_startTime=["",""],this.taskListRefreshSilent()})).catch((()=>{}))},writeToStorage(){localStorage.setItem("data_task_all",JSON.stringify(this.data_task_all));let t=new Date,e=t.getFullYear().toString();e+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,e+=t.getDate()<10?"0"+t.getDate():t.getDate(),e+=t.getHours()<10?"0"+t.getHours().toString():t.getHours(),e+=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),e+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),localStorage.setItem("time_last_updated",e)},readFromStorage(){localStorage.getItem("data_task_all")&&localStorage.getItem("data_task_all").length>2?(this.data_task_all=JSON.parse(localStorage.getItem("data_task_all")),this.isDataEmpty=!1):(this.data_task_list=[],this.isDataEmpty=!0)},getCurrentTimeString(){let t=new Date,e=t.getFullYear().toString();e+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,e+=t.getDate()<10?"0"+t.getDate():t.getDate();let i=t.getHours()<10?"0"+t.getHours().toString():t.getHours().toString();return i+=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),i+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),[e,i]}},mounted(){console.log(this.getCurrentTimeString()[1]),this.readFromStorage(),this.data_task_list=this.data_task_all,setInterval((()=>{let t=!1,e=new Date,i=e.getFullYear().toString();i+=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,i+=e.getDate()<10?"0"+e.getDate():e.getDate(),i+=e.getHours()<10?"0"+e.getHours().toString():e.getHours(),i+=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),i+=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();for(let s of this.data_task_all)i>=s.task_endTime[0]+s.task_endTime[1]&&"panding"==s.task_status&&(s.task_status="expired",t=!0);t&&(this.showNotification("注意","有一个或多个项目刚刚超时","warning",5e4,"buttom-left"),this.taskListRefreshSilent(),t=!1)}),6e4)}},ut=ct,ht=(0,f.Z)(ut,rt,lt,!1,null,"7bb997cb",null),_t=ht.exports,gt=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"page-counter"}},[e("div",{attrs:{id:"div-list"}},[e("div",{attrs:{id:"div-list-manage"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"选中所有项目",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-select"},on:{click:t.taskListSelectAll}},[e("i",{staticClass:"el-icon-turn-off"})])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"将选中的项目永久删除",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-remove"},on:{click:t.taskListRemoveSelected}},[e("i",{staticClass:"el-icon-delete"})])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"新建一个项目",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-new"},on:{click:t.taskListNew}},[e("i",{staticClass:"el-icon-circle-plus-outline"})])]),e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"刷新项目列表",placement:"bottom-start"}},[e("div",{attrs:{id:"div-list-manage-refresh"},on:{click:t.taskListRefresh}},[e("i",{staticClass:"el-icon-refresh"})])])],1),e("div",{attrs:{id:"div-list-main"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDataEmpty,expression:"!isDataEmpty"}],attrs:{id:"div-list-main-exist"}},[e("div",{attrs:{id:"div-list-main-exist-data"}},[e("div",{attrs:{id:"div-list-main-exist-data-list"}},t._l(t.data_counter_all,(function(i,s){return e("div",{key:s,staticClass:"div-list-main-exist-data-item"},[e("input",{staticClass:"div-list-main-exist-data-item-checkbox",attrs:{type:"checkbox"},on:{change:t.taskListSelectEach}}),e("span",{on:{click:function(e){return t.showItem(s)}}},[t._v(" "+t._s(i.counter_title)+" ")]),e("span",{staticClass:"div-list-main-exist-data-item-count"},[t._v(" "+t._s(i.counter_count)+" ")])])})),0)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isDataEmpty,expression:"isDataEmpty"}],attrs:{id:"div-list-main-empty"}},[e("i",{staticClass:"el-icon-check"}),e("br"),e("div",[t._v(" 没有数据 ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.editingIndex>=0,expression:"editingIndex>=0"}],attrs:{id:"div-list-cover"},on:{click:function(e){return t.closeItem()}}})]),e("div",{attrs:{id:"div-mainArea"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.editingIndex>=0,expression:"editingIndex>=0"}],attrs:{id:"div-mainArea-editing"}},[e("div",{attrs:{id:"div-mainArea-editing-back"}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"不保存并关闭编辑",placement:"right-end"}},[e("i",{staticClass:"el-icon-back",on:{click:t.closeItem}})])],1),e("div",{attrs:{id:"div-mainArea-editing-title"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入内容",maxlength:"8","show-word-limit":""},on:{change:function(e){t.isUnsaved=!0},input:function(e){return t.inputLimit("title")}},model:{value:t.data_counter_current.counter_title,callback:function(e){t.$set(t.data_counter_current,"counter_title",e)},expression:"data_counter_current.counter_title"}})],1),e("div",{attrs:{id:"div-mainArea-editing-description"}},[e("el-input",{attrs:{type:"textarea",rows:"10",placeholder:"请输入内容",maxlength:"1000","show-word-limit":"",resize:"none"},on:{change:function(e){t.isUnsaved=!0},input:function(e){return t.inputLimit("description")}},model:{value:t.data_counter_current.counter_description,callback:function(e){t.$set(t.data_counter_current,"counter_description",e)},expression:"data_counter_current.counter_description"}})],1),e("div",{attrs:{id:"div-mainArea-editing-count"}},[e("span",[t._v("任务计次")]),e("el-input-number",{attrs:{min:0,max:1e3,size:"mini"},on:{change:function(e){t.isUnsaved=!0}},model:{value:t.data_counter_current.counter_count,callback:function(e){t.$set(t.data_counter_current,"counter_count",e)},expression:"data_counter_current.counter_count"}})],1),e("div",{attrs:{id:"div-mainArea-editing-options"}},[e("el-button",{attrs:{type:"success",icon:"el-icon-check",round:"",size:"mini"},on:{click:t.saveItem}},[t._v("保存项目")]),e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",round:"",size:"mini"},on:{click:t.deleteItem}},[t._v("删除项目")])],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.editingIndex>=0,expression:"!editingIndex>=0"}],attrs:{id:"div-mainArea-empty"}},[e("i",{staticClass:"el-icon-cold-drink"}),e("br"),e("span",[t._v(" 选择或创建一个项目来编辑 ")])])])])},mt=[];const pt=(0,L.kP)("ABCDEFGHIJ",20);var kt={name:"page-counter",data(){return{data_counter_all:[],data_counter_current:{counter_id:"",counter_title:"",counter_description:"",counter_count:0},isDataEmpty:!1,isEditing:!1,isCreating:!1,isUnsaved:!1,isListSelectAll:!1,editingIndex:-1,key:0}},methods:{showNotification(t,e,i,s){this.$notify({title:t,message:e,type:i,duration:s})},taskListSelectAll(){if(this.isDataEmpty)this.showNotification("操作失败","当前列表没有待选中项目","error",3e3);else{let t=document.getElementsByClassName("div-list-main-exist-data-item-checkbox");for(let e of t)e.checked=!this.isTaskSelectedAll;this.isTaskSelectedAll=!this.isTaskSelectedAll,this.isTaskSelectedAll?document.getElementsByClassName("el-icon-turn-off")[0].className="el-icon-open":document.getElementsByClassName("el-icon-open")[0].className="el-icon-turn-off"}},taskListSelectEach(){let t=document.getElementsByClassName("div-list-main-exist-data-item-checkbox");for(let e in t){if(!t[e].checked)break;if(e==t.length-1)return void(document.getElementsByClassName("el-icon-turn-off").length>0&&(document.getElementsByClassName("el-icon-turn-off")[0].className="el-icon-open"))}document.getElementsByClassName("el-icon-open").length>0&&(document.getElementsByClassName("el-icon-open")[0].className="el-icon-turn-off")},taskListRemoveSelected(){let t=document.getElementsByClassName("div-list-main-exist-data-item-checkbox");0==[...t].filter((t=>t.checked)).length?this.showNotification("操作失败","未选中任何项目","error",3e3):this.$confirm("此操作将永久删除项目, 是否继续?","提示",{confirmButtonText:"确定删除",cancelButtonText:"取消删除",type:"warning"}).then((()=>{for(let e=t.length-1;e>=0;e--)t[e].checked&&this.data_counter_all.splice(e,1);for(let e of t)e.checked=!1;this.showNotification("操作成功","已将选中的项目删除","success",3e3),this.taskListRefreshSilent(),this.isTaskSelectedAll&&(document.getElementsByClassName("el-icon-open")[0].className="el-icon-turn-off")})).catch((()=>{}))},taskListNew(){this.isCreating=!0,this.showItem(this.data_counter_all.length)},taskListRefreshSilent(){this.writeToStorage(),this.readFromStorage(),this.data_counter_all.length>0?(this.isDataEmpty=!1,this.key++):this.isDataEmpty=!0},taskListRefresh(){this.taskListRefreshSilent(),this.showNotification("操作成功","已刷新任务列表","success",3e3)},showItem(t){this.isCreating||(this.data_counter_current.counter_id=this.data_counter_all[t].counter_id,this.data_counter_current.counter_title=this.data_counter_all[t].counter_title,this.data_counter_current.counter_description=this.data_counter_all[t].counter_description,this.data_counter_current.counter_count=this.data_counter_all[t].counter_count),this.editingIndex=t},closeItem(){this.isUnsaved?this.$confirm("自上次保存后的未保存修改将会丢失, 是否继续? <br> 点击关闭以取消返回","提示",{confirmButtonText:"保存并返回",cancelButtonText:"不保存并返回",type:"warning",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,closeOnPressEscape:!1,distinguishCancelAndClose:!0}).then((()=>{this.saveItem(),this.isCreating=!1,this.isUnsaved=!1,this.editingIndex=-1,this.data_counter_current={counter_id:"",counter_title:"",counter_description:"",counter_count:0}})).catch((t=>{"cancel"==t&&(this.isCreating=!1,this.isUnsaved=!1,this.editingIndex=-1,this.data_counter_current={counter_id:"",counter_title:"",counter_description:"",counter_count:0})})):(this.isCreating=!1,this.editingIndex=-1,this.data_counter_current={counter_id:"",counter_title:"",counter_description:"",counter_count:0})},saveItem(){if(this.data_counter_current.counter_title.length<=0)this.showNotification("操作失败","请至少输入任务标题","error",3e3);else{if(this.isCreating)this.data_counter_current.counter_id=pt(),this.data_counter_all.push(this.data_counter_current);else for(let t=0;t<this.data_counter_all.length;t++)if(this.data_counter_all[t].counter_id==this.data_counter_current.counter_id){this.data_counter_all[t]=this.data_counter_current;break}this.showNotification("操作成功","保存成功","success",3e3),this.isCreating=!1,this.isUnsaved=!1,this.taskListRefreshSilent()}},deleteItem(){this.$confirm("此操作将永久删除该项目, 是否继续?","提示",{confirmButtonText:"确定删除",cancelButtonText:"取消删除",type:"warning"}).then((()=>{this.showNotification("操作成功","已删除项目","success",3e3),this.data_counter_all.splice(this.editingIndex,1),this.editingIndex=-1,this.isUnsaved=!1,this.data_counter_current={counter_id:"",counter_title:"",counter_description:"",counter_count:0},this.taskListRefreshSilent()})).catch((()=>{}))},inputLimit(t){"title"===t?this.data_counter_current.counter_title.length>=8&&this.showNotification("注意","标题文本不能超过8个字符","warning",1e3):"description"===t&&this.data_counter_current.counter_description.length>=1e3&&this.showNotification("注意","正文文本不能超过1000个字符","warning",1e3)},writeToStorage(){localStorage.setItem("data_counter_all",JSON.stringify(this.data_counter_all));let t=new Date,e=t.getFullYear().toString();e+=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,e+=t.getDate()<10?"0"+t.getDate():t.getDate(),e+=t.getHours()<10?"0"+t.getHours().toString():t.getHours(),e+=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),e+=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds(),localStorage.setItem("time_last_updated",e)},readFromStorage(){localStorage.getItem("data_counter_all")&&localStorage.getItem("data_counter_all").length>2?(this.data_counter_all=JSON.parse(localStorage.getItem("data_counter_all")),this.isDataEmpty=!1):(this.data_counter_list=[],this.isDataEmpty=!0)}},mounted(){this.readFromStorage()}},ft=kt,vt=(0,f.Z)(ft,gt,mt,!1,null,"4b64c8d8",null),wt=vt.exports;n["default"].use(tt.Z);let bt=tt.Z.prototype.push;tt.Z.prototype.push=function(t,e,i){e&&i?bt.call(this,t,e,i):bt.call(this,t,(()=>{}),(()=>{}))};const St=new tt.Z({routes:[{name:"PageIndex",path:"/index",component:ot,meta:{isAuth:!1}},{name:"PageTask",path:"/task",component:_t,meta:{isAuth:!1}},{name:"PageCounter",path:"/counter",component:wt,meta:{isAuth:!1}}]});St.beforeEach(((t,e,i)=>{t.meta.isAuth,i()})),St.afterEach((()=>{}));var xt=St;n["default"].config.productionTip=!1,n["default"].use(Y.ZP),n["default"].use(tt.Z),n["default"].use(a()),new n["default"]({el:"#app",render:t=>t(W),store:X,router:xt,beforeCreate(){n["default"].prototype.$bus=this}})}},e={};function i(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,i),n.exports}i.m=t,function(){i.amdO={}}(),function(){var t=[];i.O=function(e,s,a,n){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],n=t[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(i.O).every((function(t){return i.O[t](s[l])}))?s.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(c--,1);var d=a();void 0!==d&&(e=d)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[s,a,n]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,n,o=s[0],r=s[1],l=s[2],d=0;if(o.some((function(e){return 0!==t[e]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(l)var c=l(i)}for(e&&e(s);d<o.length;d++)n=o[d],i.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return i.O(c)},s=self["webpackChunktiados"]=self["webpackChunktiados"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(1925)}));s=i.O(s)})();
//# sourceMappingURL=app.ce865a38.js.map